{% extends "admin_pages/base.html" %}
{% load static %}
{% block content %}


    

    <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-6 grid-margin stretch-card">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Update Notice</h4>
                <!-- <p class="card-description">
                  Basic form layout
                </p> -->
                <form class="forms-sample" method="POST" enctype="multipart/form-data"> {% csrf_token %}
                  <div class="form-group">
                    <label for="name">Heading</label>
                    <input type="text" class="form-control" id="exampleInputUsername1" name="heading" value="{{notice.heading}}">
                  </div>
                  <div class="form-group">
                    <label for="organizer">Main Description</label>
                    <input type="text" class="form-control" id="organizer" name="main_description" value="{{notice.main_description}}">
                  </div>
                  

                 <div class="form-group">
                    <label>Current Image</label><br>
                    {% if notice.main_image %}
                        <img src="{{ notice.main_image.url }}" alt="Current Image" style="width: 150px; height: 150px;">
                        <br>
                        
                    {% else %}
                        <p>No image available</p>
                    {% endif %}
                 </div>
                <!-- New Client Image -->
                 <div class="form-group">
                    <label for="imageFile">Upload New Image</label><br>
                    <input type="file" class="form-control-file" id="imageFile" name="main_image" accept="image/*">
                 </div>

                 <div class="form-group">
                    <label for="organizer">Organizer</label>
                    <input type="text" class="form-control" id="organizer" name="organizer" value="{{notice.organizer}}">
                  </div>
                  <div class="form-group">
                    <label for="organizer">Notice Description</label>
                    <input type="text" class="form-control" id="organizer" name="description" value="{{notice.description}}">
                 </div>
                  
                 <div class="form-group">
                  <label for="date">Start Date</label>
                  <input type="datetime-local" class="form-control" id="date" name="start_date" value="{{ notice.start_date|date:'Y-m-d\\TH:i' }}">
                 </div>
                
                 <div class="form-group">
                  <label for="endDate">End Date</label>
                  <input type="datetime-local" class="form-control-file" id="endDate" name="end_date" value="{{ notice.end_date|date:'Y-m-d\\TH:i' }}">
                 </div>

                 <div class="form-group">
                  <label for="eventVenue">Venue</label>
                  <input type="text" class="form-control" id="eventVenue" name="venue" value="{{notice.venue}}">
                 </div>
                
                 <div class="form-group">
                  <label for="address">Address</label>
                  <input type="text" class="form-control" id="address" name="address" value="{{notice.address}}">
                 </div>


                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" name="email" value="{{notice.email}}">
                </div>


                <div class="form-group">
                  <label for="phone">Phone</label>
                  <input type="number" class="form-control" id="phone" name="phone" value="{{notice.phone}}">
                </div>


                <div class="form-group">
                    <label>Current Image</label><br>
                    {% if notice.image %}
                        <img src="{{ notice.image.url }}" alt="Current Image" style="width: 150px; height: 150px;">
                        <br>
                        
                    {% else %}
                        <p>No image available</p>
                    {% endif %}
                </div>
                <!-- New Client Image -->
                <div class="form-group">
                    <label for="imageFile">Upload New Image</label><br>
                    <input type="file" class="form-control-file" id="imageFile" name="image" accept="image/*">
                </div>

                  <div class="form-check form-check-flat form-check-primary">
                    <label class="form-check-label">  
                    </label>
                  </div>
                  <button type="submit" class="btn btn-primary me-2">Submit</button>
                  <!-- <button class="btn btn-light">Cancel</button> -->
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          var today = new Date().toISOString().split('T')[0];
          var startDateInput = document.getElementById('date');
          var endDateInput = document.getElementById('endDate');
          
          startDateInput.setAttribute('min', today);
          endDateInput.setAttribute('min', today);
          
          startDateInput.addEventListener('change', function() {
              var startDate = startDateInput.value;
              if (startDate) {
                  endDateInput.setAttribute('min', startDate);
              } else {
                  endDateInput.setAttribute('min', today);
              }
          });
      });
  </script>
     
    
{% endblock %}
